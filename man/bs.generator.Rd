% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/bs.generator.R
\name{bs.generator}
\alias{bs.generator}
\title{Generate B-spline Basis Matrices}
\usage{
bs.generator(x, N, q = 3, KnotsLocation = "quantile", knots = NULL)
}
\arguments{
\item{x}{A numeric vector or matrix representing the input data for which B-spline bases are to be generated. If a matrix, each column is treated as a separate variable.}

\item{N}{An integer specifying the number of internal knots to generate.}

\item{q}{An integer representing the degree of the spline. Default is 3 (cubic spline).}

\item{KnotsLocation}{A character string indicating the method for generating knots. Options are `"quantile"` for quantile-based knots or `"uniform"` for uniformly spaced knots. Default is `"quantile"`.}

\item{knots}{An optional vector of custom knots. If provided, this vector will be used directly, and `KnotsLocation` will be ignored.}
}
\value{
A list containing:
  \item{Bx0}{The raw B-spline basis matrix.}
  \item{Bx}{The B-spline basis matrix with centered columns.}
  \item{BxMean}{The column means of `Bx0`, used for centering.}
  \item{knots}{The knots used for generating the B-spline basis.}
}
\description{
This function creates B-spline basis matrices for a given input vector or matrix, with options to customize the degree of the spline, the location of knots, and whether the knots are generated based on quantiles or uniform intervals.
}
\details{
Knots Generation: If `knots` is not provided, knots are generated based on the value of `KnotsLocation`. For quantile-based knots, they are placed at quantiles of the data in `x`, while for uniform spacing, knots are spread evenly across the range of `x`.
Matrix Handling: If `x` is a matrix, each column is treated as an independent variable, and the spline basis is constructed separately for each. This reduces memory usage by processing in blocks.
}
\examples{
# Generate a cubic B-spline basis for a vector with quantile-based knots
x <- rnorm(100)
bs.generator(x, N = 5, q = 3, KnotsLocation = "quantile")

# Generate a cubic B-spline basis for a matrix with uniform knots
x_matrix <- matrix(rnorm(1000), ncol = 10)
bs.generator(x_matrix, N = 5, q = 3, KnotsLocation = "uniform")

}
